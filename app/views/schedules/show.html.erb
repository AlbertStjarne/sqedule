<%= render 'partials/landing_nav' %>
<section class="grid-container">
  <div class= "dates-header sqedule-border-sections">
    <div class="sqedule-border flex items-center justify-center">
      <span>
        <%= link_to "<", schedule_path(@prev_month), class: "mr-4 month-step" unless @prev_month.nil? %>
        <h1 class="inline-block"><%= get_period_name(@schedule.period) %></h1>        
        <%= link_to ">", schedule_path(@next_month), class: "ml-4 month-step" unless @next_month.nil? %>
      </span>
    </div>
    <div class="date-grid sqedule-border-tranparent"><%= render partial: 'dates' %></div>
  </div>
  <div class="staff sqedule-border-sections">
    <div class="staff-section">
      <% @staffs.each do |staff|%>
        <div class="tile sqedule-border">
          <p class="text-2xl"><%= staff.name%></p>
          <p>Shift preference: <%= staff.shift_preference%></p>
          <p>Primary Role <%= staff.primary_role%></p>
          <p>Employment end date: <%= staff.employment_end %></p>
        </div>
      <% end %>
      <div class="tile sqedule-border"><%= render partial: 'new_staff_member' %></div>
    </div>
    <div class="assignment-section">
      <% @staffs.each do |staff| %>
        <div class="tile-grid sqedule-border"><%= render partial: 'new_assignments' %></div>
      <% end %>
    </div>
  </div>
  <div class="shift-patterns sqedule-border-sections">
    <div class="pattern-section">
      <% @patterns.each do |pattern|%>
        <div class="pattern sqedule-border">
          <p>Start Time: <%= pattern.shift_start.strftime("%H:%M") unless pattern.shift_start.nil?%></p>
          <p>Length: <%= pattern.shift_length %></p>
          <p>Primary role: <%= pattern.primary_role %></p>
        </div>      
      <% end %>
      <div class="pattern sqedule-border"><%= render partial: 'new_pattern' %></div>
    </div>
    <div class="shifts-section">
      <% @patterns.each do |pattern|%>
        <% unless pattern.id.nil?%>
          <div class="tile-grid sqedule-border"><%= render partial: 'new_shifts', locals: {pattern: pattern} %></div>
        <% end %>
      <% end %>
    </div>
  </div>
</section>